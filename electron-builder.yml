# Electron Builder Configuration
# Steps 334-336: Build installers for Windows, Mac, Linux

appId: com.typingtutor.autism
productName: Autism Typing Tutor
copyright: Copyright Â© 2024 Typing Tutor Team

directories:
  buildResources: assets
  output: release

files:
  - dist/**/*
  - electron/**/*
  - package.json

# Step 334: Windows Configuration
win:
  target:
    - target: nsis
      arch:
        - x64
        - ia32
  icon: assets/icon.ico
  artifactName: ${productName}-Setup-${version}-${arch}.${ext}
  publisherName: Typing Tutor Team

nsis:
  oneClick: false
  allowToChangeInstallationDirectory: true
  createDesktopShortcut: true
  createStartMenuShortcut: true
  shortcutName: Autism Typing Tutor
  installerIcon: assets/icon.ico
  uninstallerIcon: assets/icon.ico
  license: LICENSE

# Step 335: macOS Configuration
mac:
  target:
    - target: dmg
      arch:
        - x64
        - arm64
  icon: assets/icon.icns
  category: public.app-category.education
  hardenedRuntime: true
  gatekeeperAssess: false
  entitlements: assets/entitlements.mac.plist
  entitlementsInherit: assets/entitlements.mac.plist
  artifactName: ${productName}-${version}-${arch}.${ext}

dmg:
  title: ${productName} ${version}
  icon: assets/icon.icns
  contents:
    - x: 130
      y: 220
    - x: 410
      y: 220
      type: link
      path: /Applications

# Step 336: Linux Configuration
linux:
  target:
    - target: AppImage
      arch:
        - x64
    - target: deb
      arch:
        - x64
  icon: assets/icon.png
  category: Education
  synopsis: AI-Powered Typing Tutor for Children with Autism
  description: >
    An innovative, cross-platform educational application designed specifically
    for children with autism to learn typing through AI-powered adaptive learning,
    visual prompts, and positive reinforcement.
  desktop:
    Name: Autism Typing Tutor
    Comment: Learn typing with AI-powered assistance
    Categories: Education;
  artifactName: ${productName}-${version}-${arch}.${ext}

appImage:
  license: LICENSE

deb:
  depends:
    - gconf2
    - gconf-service
    - libnotify4
    - libappindicator1
    - libxtst6
    - libnss3

# Step 337: Auto-update Configuration
publish:
  provider: github
  owner: BusinessBuilders
  repo: typing-tutor
  releaseType: release

# Compression
compression: maximum
asar: true
